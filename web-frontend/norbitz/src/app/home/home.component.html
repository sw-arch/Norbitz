<h1>Home</h1>

<form [formGroup]="searchFormGroup">    
  <mat-form-field>
    <mat-select placeholder="Origin City" [(ngModel)]="origin" formControlName="origin" required>
      <mat-option *ngFor="let loc of possibleLocations" value="{{loc}}">{{loc}}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <mat-select placeholder="Desination City" [(ngModel)]="desination" formControlName="desination" required>
        <mat-option *ngFor="let loc of possibleLocations" value="{{loc}}">{{loc}}</mat-option>        
    </mat-select>
  </mat-form-field>

  <mat-form-field (click)="pickerStart.open()">
    <input matInput [matDatepicker]="pickerStart" placeholder="Start Date" [formControl]="startDateCF" formControlName="startDate" required>
    <mat-datepicker-toggle matSuffix [for]="pickerStart"></mat-datepicker-toggle>
    <mat-datepicker #pickerStart disabled="false"></mat-datepicker>
  </mat-form-field>

  <mat-form-field (click)="pickerEnd.open()">
    <input matInput [matDatepicker]="pickerEnd" placeholder="End Date" [formControl]="endDateCF" formControlName="endDate" required>
    <mat-datepicker-toggle matSuffix [for]="pickerEnd"></mat-datepicker-toggle>
    <mat-datepicker #pickerEnd disabled="false"></mat-datepicker>
  </mat-form-field>

  <button type="submit" class="btn btn-success" (click)="search()" [disabled]="!this.searchFormGroup.valid">Search</button>
</form>

<mat-horizontal-stepper #stepper [linear]="isLinear" *ngIf="showStepper">
  <mat-step label="Transportation" >
    <span class="skip-button">
      <button mat-button matStepperNext>Skip</button>
    </span>
    <h2>Transportation</h2>
    <br/>
    [Delta Here]
    <br/>
    [Cruse here?]
  </mat-step>
  <mat-step label="Lodging" [stepControl]="false">
      <span class="skip-button">
        <button mat-button matStepperNext>Skip</button>
      </span>
      <h2>Lodging</h2>
      <br/>
      [Hotels]
      <br/>
      [Airdnd]
  </mat-step>
  <mat-step label="Extras" [stepControl]="false">
    <span class="skip-button" [ngClass]="extrasFormDone ? 'formdone' : ''">
      <button mat-button matStepperNext>{{extrasFormDone ? "Next" : "Skip"}}</button>
    </span>
    <h2>Extras</h2>
    <br/>
    <app-extras [desination]="desination" [fromDate]="startDate" [toDate]="endDate" (formDone)="extrasFormDone = $event"></app-extras>
    <br/>
    <h3>Local Events</h3>
    [Events here]
  </mat-step>
  <mat-step label="Review" [stepControl]="false" [stepControl]="reviewFormGroup">
    [List order here]
    <br/>
    <button mat-button matStepperNext>Place Order</button>    
    <!--Hidden checkbox that will permit the user to continue when checked... maybe-->
    <form [formGroup]="reviewFormGroup">
        <mat-checkbox class="hidden" formControlName="cbCtrl" [(ngModel)]="reviewOk" required></mat-checkbox>
    </form>
  </mat-step>
  <mat-step label="Finish" [stepControl]="false">
    [Confimation]
  </mat-step>
</mat-horizontal-stepper>
